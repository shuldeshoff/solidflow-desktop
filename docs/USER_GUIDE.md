# Руководство пользователя SolidFlow Desktop

## Введение

SolidFlow Desktop - это приложение для просмотра, анализа и подготовки 3D-моделей для печати и механической обработки.

## Начало работы

### Установка

1. Убедитесь, что у вас установлен Python 3.10 или выше
2. Скачайте проект с GitHub
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Запустите приложение:
   ```bash
   python -m solidflow
   ```

## Интерфейс приложения

### Главное окно

Интерфейс состоит из:
* **Меню** - в верхней части окна
* **Панель инструментов** - под меню
* **3D Viewport** - основная область для просмотра моделей (слева)
* **Панель информации** - справа, показывает данные о модели

### Меню

#### Файл
* **Открыть (Ctrl+O)** - загрузить STL файл
* **Сохранить (Ctrl+S)** - сохранить изменения в текущий файл
* **Сохранить как (Ctrl+Shift+S)** - сохранить в новый файл
* **Выход (Ctrl+Q)** - закрыть приложение

#### Вид
* **Каркас** - отображение только ребер модели
* **Заливка** - отображение с затенением (по умолчанию)
* **Сбросить камеру (Home)** - вернуть камеру в начальное положение

#### Инструменты
* **Анализировать модель** - проверить модель на наличие проблем
* **Ремонт модели** - автоматически исправить найденные проблемы
* **Исправить нормали** - корректировать ориентацию поверхностей

#### Справка
* **О программе** - информация о версии

## Работа с моделями

### Открытие модели

1. Нажмите **Файл → Открыть** (или Ctrl+O)
2. Выберите STL файл
3. Модель отобразится в 3D viewport
4. Панель информации покажет статистику

### Просмотр модели

**Навигация мышью:**
* **Левая кнопка + перемещение** - вращение камеры
* **Средняя кнопка + перемещение** - панорамирование (перемещение)
* **Колесо мыши** - масштабирование (приближение/отдаление)
* **Клавиша Home** - сбросить камеру

**Режимы отображения:**
* **Заливка** - стандартный режим с затенением
* **Каркас** - показывает только ребра модели

Переключение: **Вид → Каркас/Заливка**

### Анализ модели

При открытии модели автоматически выполняется базовый анализ.

**Ручной анализ:**
1. **Инструменты → Анализировать модель**
2. Результаты отобразятся в диалоге

**Что проверяется:**
* Герметичность (watertight) - модель замкнута без дырок
* Manifold - корректная топология (каждое ребро принадлежит ровно двум граням)
* Нормали - правильная ориентация поверхностей
* Вырожденные грани - грани с нулевой площадью
* Дублирующиеся вершины - избыточные точки

**Индикаторы в панели информации:**
* **GREEN** - модель корректна
* **RED** - найдены проблемы
* **ORANGE** - предупреждения

### Ремонт модели

Если анализ выявил проблемы:

1. **Инструменты → Ремонт модели**
2. Приложение автоматически исправит:
   * Заполнит дырки
   * Удалит дубликаты вершин
   * Удалит вырожденные грани
   * Очистит геометрию
3. Результат сразу отобразится в viewport

**Примечание:** Сохраните резервную копию перед ремонтом!

### Исправление нормалей

Нормали определяют, какая сторона поверхности "лицевая".

**Когда нужно:**
* Модель отображается "наизнанку"
* Проблемы с затенением
* Перед 3D-печатью

**Как исправить:**
1. **Инструменты → Исправить нормали**
2. Нормали будут автоматически скорректированы
3. Модель обновится в viewport

### Сохранение результатов

**Сохранить (Ctrl+S):**
* Сохраняет изменения в текущий файл
* Перезаписывает оригинал

**Сохранить как (Ctrl+Shift+S):**
* Сохраняет в новый файл
* Оригинал остается нетронутым

**Рекомендация:** Используйте "Сохранить как", чтобы сохранить оригинал.

## Панель информации

Показывает детальные данные о модели:

### Файл
Имя открытого файла

### Геометрия
* **Треугольников** - количество треугольных граней
* **Вершин** - количество точек

### Размеры
* **X, Y, Z** - габариты модели в миллиметрах
* Важно для проверки размера перед печатью

### Объем и площадь
* **Объем (мм³)** - объем модели (только для герметичных моделей)
* **Площадь (мм²)** - площадь поверхности
* Полезно для расчета материала

### Валидация
* **Статус** - корректна ли модель
* **Проблемы** - список найденных проблем

## Типичные задачи

### Проверка модели перед печатью

1. Откройте STL файл
2. Проверьте панель информации:
   * Модель должна быть корректна (зеленый индикатор)
   * Должна быть герметична
   * Размеры должны соответствовать ожиданиям
3. Если есть проблемы - выполните ремонт
4. Сохраните результат

### Исправление проблемной модели

1. Откройте модель
2. **Инструменты → Анализировать** - посмотрите список проблем
3. **Инструменты → Ремонт модели** - автоматическое исправление
4. Если остались проблемы с нормалями:
   * **Инструменты → Исправить нормали**
5. Проверьте результат снова
6. Сохраните

### Быстрый просмотр модели

1. Откройте файл (Ctrl+O)
2. Вращайте модель мышью
3. Переключайте Каркас/Заливка для лучшего понимания геометрии
4. Смотрите размеры в панели информации
5. Закройте (Ctrl+Q) или откройте другую модель

## Горячие клавиши

* **Ctrl+O** - Открыть файл
* **Ctrl+S** - Сохранить
* **Ctrl+Shift+S** - Сохранить как
* **Ctrl+Q** - Выход
* **Home** - Сбросить камеру

## Поддерживаемые форматы

**Импорт:**
* STL (бинарный и текстовый)

**Экспорт:**
* STL (бинарный)

**Планируется:**
* OBJ
* STEP
* PLY

## Устранение проблем

### Модель не открывается
* Убедитесь, что файл - корректный STL
* Проверьте, не поврежден ли файл
* Попробуйте открыть в другом 3D-редакторе

### Модель отображается странно
* Попробуйте исправить нормали
* Переключитесь в режим каркаса
* Сбросьте камеру (Home)

### Ремонт не помогает
* Некоторые проблемы требуют ручного исправления
* Используйте профессиональные инструменты (Meshmixer, Blender)
* Проверьте исходную модель

### Ошибки при сохранении
* Убедитесь, что есть права на запись
* Проверьте свободное место на диске
* Попробуйте сохранить в другую папку

## Советы

1. **Всегда сохраняйте оригинал** - используйте "Сохранить как"
2. **Проверяйте размеры** - убедитесь, что модель правильного масштаба
3. **Анализ перед печатью** - обязательно проверьте герметичность
4. **Режим каркаса** - помогает увидеть внутреннюю геометрию
5. **Ремонт может изменить модель** - проверьте результат визуально

## Технические ограничения

* Только STL формат (в текущей версии)
* Одна модель за раз
* Нет undo/redo (будет добавлено)
* Нет поддержки цвета/текстур

## Обратная связь

Нашли баг или есть предложение?
* GitHub Issues: https://github.com/shuldeshoff/solidflow-desktop/issues

## О программе

**SolidFlow Desktop v0.2.0**

Desktop-платформа для подготовки и оптимизации 3D-моделей для печати и мехобработки.

Лицензия: MIT

